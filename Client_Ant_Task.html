<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- Generated by Apache Maven Doxia at Sep 18, 2012 -->
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
    <title></title>
    <style type="text/css" media="all">
      @import url("./css/maven-base.css");
      @import url("./css/maven-theme.css");
      @import url("./css/site.css");
    </style>
    <link rel="stylesheet" href="./css/print.css" type="text/css" media="print" />
    <meta name="Date-Revision-yyyymmdd" content="20120918" />
    <meta http-equiv="Content-Language" content="en" />
        
        </head>
  <body class="composite">
    <div id="banner">
                    <div id="bannerLeft">
                WSIT Build Tools
                </div>
                    <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="breadcrumbs">
            
        
                <div class="xleft">
        <span id="publishDate">Last Published: 2012-09-18</span>
                  &nbsp;| <span id="projectVersion">Version: 1.0.8-SNAPSHOT</span>
                      </div>
            <div class="xright">        
        
      </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
    <div id="leftColumn">
      <div id="navcolumn">
             
        
                                <h5>Overview</h5>
                  <ul>
                  <li class="none">
                          <a href="index.html" title="Description">Description</a>
            </li>
                  <li class="none">
                          <a href="gettingStarted.html" title="Getting Started">Getting Started</a>
            </li>
                  <li class="none">
                          <a href="wsit-maven-plugin/plugin-info.html" title="Maven Plugin Goals">Maven Plugin Goals</a>
            </li>
          </ul>
                       <h5>Modules</h5>
                  <ul>
                  <li class="none">
                          <a href="wsit-bt-core/index.html" title="WSIT Build Tools Core">WSIT Build Tools Core</a>
            </li>
                  <li class="none">
                          <a href="wsit-maven-plugin/index.html" title="WSIT Maven Mojo">WSIT Maven Mojo</a>
            </li>
                  <li class="none">
                          <a href="wsit-maven-plugin-itest/index.html" title="WSIT Maven Mojo Integration Tests">WSIT Maven Mojo Integration Tests</a>
            </li>
                  <li class="none">
                          <a href="wsit-ant-tasks/index.html" title="WSIT Ant Tasks">WSIT Ant Tasks</a>
            </li>
                  <li class="none">
                          <a href="wsit-ant-tasks-itest/index.html" title="WSIT Ant Tasks Integration Tests">WSIT Ant Tasks Integration Tests</a>
            </li>
                  <li class="none">
                          <a href="bundle/index.html" title="WSIT Build Tools Bundle">WSIT Build Tools Bundle</a>
            </li>
          </ul>
                       <h5>Project Documentation</h5>
                  <ul>
                                                                                                                                                                                                                                                                                                              <li class="collapsed">
                          <a href="project-info.html" title="Project Information">Project Information</a>
                  </li>
                                                                                                                                                                                                                                                                          <li class="collapsed">
                          <a href="project-reports.html" title="Project Reports">Project Reports</a>
                  </li>
          </ul>
                             <a href="http://maven.apache.org/" title="Built by Maven" class="poweredBy">
        <img class="poweredBy" alt="Built by Maven" src="./images/logos/maven-feather.png" />
      </a>
                   
        
            </div>
    </div>
    <div id="bodyColumn">
      <div id="contentBox">
        <div class="section"><h2>The Client Task<a name="The_Client_Task"></a></h2><p>The client task is probably one of the most useful tasks. The client task can take any service WSDL and add a WSIT configuration policy. Here are the properties that can be set on the wsit-client element.</p><table border="1" class="bodyTable"><tr class="a"><th align="left">Attribute</th><th align="left">Description</th><th align="left">Required</th></tr><tr class="b"><td align="left">wsdl</td><td align="left">The WSDL file for which a wsit-client.xml will be created.</td><td align="left">yes</td></tr><tr class="a"><td align="left">outputdir</td><td align="left">The directory where the generated files will be saved.</td><td align="left">yes</td></tr><tr class="b"><td align="left">policy</td><td align="left">Specify a WS-Policy fragment to merge into the WSIT configuration.</td><td align="left">no</td></tr><tr class="a"><td align="left">bindingpolicy</td><td align="left">If policy is also specified, this property is used to specify the id of the desired policy to apply. If policy is not set, this name will be used as the name of the generated policy.</td><td align="left">yes &#x2013; if policy is specified no &#x2013; otherwise</td></tr><tr class="b"><td align="left">outputfile</td><td align="left">Overrides the default filename for the output file. The default filename is the same as the WSDL filename except with a .xml extension.</td><td align="left">no</td></tr></table><p>Example:</p><div><pre>    &lt;wsit-client wsdl=&quot;MyService.wsdl&quot; outputdir=&quot;generated&quot; policy=&quot;MyClientPolicy.xml&quot; bindingpolicy=&quot;SecureBinding&quot; /&gt;
</pre></div><p>This example will merge the MyClientPolicy.xml and MyService.wsdl into a WSIT configuration file called MyService.xml. MyService.xml and a generated wsit-client.xml will be placed into the folder &#x201c;generated.&#xfffd;? If the &#x201c;generated&#xfffd;? folder already contains a wsit-client.xml file, that file will be updated.</p><p>The following sub-elements can be configured on the client task to configure client credentials or callback handlers.</p></div><div class="section"><h2>Callback<a name="Callback"></a></h2><p>The callback element is used to specify various callback handlers. It can be used to configure username callback, password callback, SAML callback, xwss &#160;calback and jmac callback handlers. The following are the allowed attributes for the callback element.</p><table border="1" class="bodyTable"><tr class="a"><th align="left">Attribute</th><th align="left">Description</th><th align="left">Required</th></tr><tr class="b"><td align="left">usernamehandler</td><td align="left">The fully qualified classname of the username callback handler. The callback handler must implement javax.security.auth.callback.CallbackHandler and it must handle the callback javax.security.auth.callback.NameCallback</td><td align="left">no</td></tr><tr class="a"><td align="left">passwordhandler</td><td align="left">The fully qualified classname of the password callback handler. The callback handler must implement javax.security.auth.callback.CallbackHandler and it must handle the callback javax.security.auth.callback.PasswordCallback</td><td align="left">no</td></tr><tr class="b"><td align="left">samlhandler</td><td align="left">The fully qualified classname of the SAML callback handler. The callback handler must implement javax.security.auth.callback.CallbackHandler and it must handle the callback com.sun.xml.wss.impl.callback.SAMLCallback</td><td align="left">no</td></tr><tr class="a"><td align="left">xwsssCallbackHandler</td><td align="left">The fully qualified classname of a callback to override the DefaultCallbackHandler. This is used in non-GlassFish containers to gain complete control over where to retrieve keys, usernames, passwords, etc.</td><td align="left">no</td></tr><tr class="b"><td align="left">jmacCallbackHandler</td><td align="left">The fully qualified classname of a callback to override the DefaultCallbackHandler. This is used in GlassFish to gain complete control over where to retrieve keys, usernames, passwords, etc.</td><td align="left">no</td></tr></table><p>Example:</p><div><pre>&lt;wsit-client wsdl=&quot;MyService.wsdl&quot; outputdir=&quot;generated&quot;&gt;
    &lt;callback usernameHandler=&quot;com.example.UsernameHandler&quot; passwordHandler=&quot;com.examle.PasswordHandler&quot; /&gt;
&lt;/wsit-client&gt;
</pre></div><p>This example will add a policy fragment that contains username and password handlers to the MyService.xml WSIT configuration file. The generated policy fragment will look like:</p><div><pre>&lt;wsp:Policy wsu:Id=&quot;Client_BindingPolicy&quot;&gt;
  &lt;wsp:ExactlyOne&gt;
    &lt;wsp:All&gt;
      &lt;sc1:CallbackHandlerConfiguration xmlns:wspp=&quot;http://java.sun.com/xml/ns/wsit/policy&quot;
         wspp:visibility=&quot;private&quot; xmlns:sc1=&quot;http://schemas.sun.com/2006/03/wss/client&quot;&gt;
        &lt;sc1:CallbackHandler classname=&quot;com.examle.UsernameHandler&quot; name=&quot;usernameHandler&quot;/&gt;
        &lt;sc1:CallbackHandler classname=&quot;com.example.PasswordHandler&quot; name=&quot;passwordHandler&quot;/&gt;
      &lt;/sc1:CallbackHandlerConfiguration&gt;
    &lt;/wsp:All&gt;
  &lt;/wsp:ExactlyOne&gt;
&lt;/wsp:Policy&gt;
</pre></div></div><div class="section"><h2>Truststore<a name="Truststore"></a></h2><p>The truststore element can be used to configure the location of the truststore that WSIT will use when verifying the validity of certificates.</p><table border="1" class="bodyTable"><tr class="a"><th align="left">Attribute</th><th align="left">Description</th><th align="left">Required</th></tr><tr class="b"><td align="left">callbackhandler</td><td align="left">The fully qualified classname of a class that implements javax.security.auth.callback.CallbackHandler and handles the callback com.sun.xml.wss.impl.callback.KeyStoreCallback. This is used to provide the keystore programatically instead of using the location and type attributes.</td><td align="left">no</td></tr><tr class="a"><td align="left">location</td><td align="left">The absolute path to the truststore file.</td><td align="left">no</td></tr><tr class="b"><td align="left">type</td><td align="left">The type of truststore file.</td><td align="left">no &#x2013; defaults to JKS</td></tr><tr class="a"><td align="left">storepass</td><td align="left">The password for the truststore or a fully qualified classname of a class that implements javax.security.auth.callback.CallbackHandler and handles the callback javax.security.auth.callback.PasswordCallback.</td><td align="left">no</td></tr><tr class="b"><td align="left">peeralias</td><td align="left">The alias of the peer entity.</td><td align="left">no</td></tr><tr class="a"><td align="left">certSelector</td><td align="left">The fully qualified classname of a class that implements javax.security.auth.callback.CallbackHandler and handles the callback javax.security.cert.CertSelector.</td><td align="left">no</td></tr></table><p>Example:</p><div><pre>&lt;wsit-client wsdl=&quot;MyService.wsdl&quot; outputdir=&quot;generated&quot;&gt;
    &lt;truststore location=&quot;c:\MyTrust.jks&quot; storepass=&quot;password123&quot; peeralias=&quot;example-server&quot; /&gt;
&lt;/wsit-client&gt;
</pre></div><p>The generated policy fragment will look like:</p><div><pre>&lt;wsp:Policy wsu:Id=&quot;Client_BindingPolicy&quot;&gt;
  &lt;wsp:ExactlyOne&gt;
    &lt;wsp:All&gt;
      &lt;sc1:TrustStore location=&quot;c:\MyTrust.jks&quot; peeralias=&quot;example-server&quot;
         storepass=&quot;password123&quot; xmlns:wspp=&quot;http://java.sun.com/xml/ns/wsit/policy&quot;
         wspp:visibility=&quot;private&quot; xmlns:sc1=&quot;http://schemas.sun.com/2006/03/wss/client&quot;/&gt;
    &lt;/wsp:All&gt;
  &lt;/wsp:ExactlyOne&gt;
&lt;/wsp:Policy&gt;
</pre></div></div><div class="section"><h2>Keystore<a name="Keystore"></a></h2><p>The keystore element can be used to configure the location of the keystore that WSIT will use with security mechanisms that require X.509 certificates.</p><table border="1" class="bodyTable"><tr class="a"><th align="left">Attribute</th><th align="left">Description</th><th align="left">Required</th></tr><tr class="b"><td align="left">callbackhandler</td><td align="left">The fully qualified classname of a class that implements javax.security.auth.callback.CallbackHandler and handles the callbacks com.sun.xml.wss.impl.callback.KeyStoreCallback and com.sun.xml.wss.impl.callback.PrivateKeyCallback. This is used to provide the keystore and keys programatically instead of using the location, type, storepass, and keypass attributes.</td><td align="left">no</td></tr><tr class="a"><td align="left">location</td><td align="left">The absolute path to the ketstore file.</td><td align="left">no</td></tr><tr class="b"><td align="left">type</td><td align="left">The type of keystore file.</td><td align="left">no</td></tr><tr class="a"><td align="left">storepass</td><td align="left">The password for the truststore or a fully qualified classname of a class that implements javax.security.auth.callback.CallbackHandler and handles the callback javax.security.auth.callback.PasswordCallback.</td><td align="left">no</td></tr><tr class="b"><td align="left">alias</td><td align="left">The certificate alias from the keystore to be used for signatures. This takes precedence over aliasSelector.</td><td align="left">no</td></tr><tr class="a"><td align="left">aliasselector</td><td align="left">The fully qualified classname of a class that implements com.sun.xml.wss.AliasSelector.</td><td align="left">no</td></tr><tr class="b"><td align="left">keypass</td><td align="left">The password for the private key or the fully qualified classname of a class that implements javax.security.auth.callback.CallbackHandler and handles the callback javax.security.auth.callback.PasswordCallback.</td><td align="left">no</td></tr></table><p>Example:</p><div><pre>&lt;wsit-client wsdl=&quot;MyService.wsdl&quot; outputdir=&quot;generated&quot;&gt;
    &lt;keystore location=&quot;c:\MyKeystore.jks&quot; storepass=&quot;password123&quot;
        keypass=&quot;password123&quot; aliasSelector=&quot;com.example.AliasSelector&quot; /&gt;
&lt;/wsit-client&gt;
</pre></div><p>The generated policy fragment will look like:</p><div><pre>&lt;wsp:Policy wsu:Id=&quot;Client_BindingPolicy&quot;&gt;
  &lt;wsp:ExactlyOne&gt;
    &lt;wsp:All&gt;
      &lt;sc1:KeyStore aliasSelector=&quot;com.example.AliasSelector&quot; keypass=&quot;password123&quot;
        location=&quot;c:\MyKeystore.jks&quot; storepass=&quot;password123&quot; xmlns:wspp=&quot;http://java.sun.com/xml/ns/wsit/policy&quot;
        wspp:visibility=&quot;private&quot; xmlns:sc1=&quot;http://schemas.sun.com/2006/03/wss/client&quot;/&gt;
    &lt;/wsp:All&gt;
  &lt;/wsp:ExactlyOne&gt;
&lt;/wsp:Policy&gt;
</pre></div></div><div class="section"><h2>CertStore<a name="CertStore"></a></h2><p>As an alternative to specifying a Truststore, a CertStore can be provided. The CertStore configuration gives the developer more control over where the trusted certificates are read from. With a CertStore, it is up to the developer to decide from where to read the certificates. For exmple, certirficates could be read from an LDAP directory.</p><table border="1" class="bodyTable"><tr class="a"><th align="left">Attribute</th><th align="left">Description</th><th align="left">Required</th></tr><tr class="b"><td align="left">callbackhandler</td><td align="left">The fully qualified classname of a class that implements javax.security.auth.callback.CallbackHandler interface and handles the callback com.sun.xml.wss.impl.callback.CertStoreCallback.</td><td align="left">no</td></tr><tr class="a"><td align="left">certselector</td><td align="left">The fully qualified classname of a class that implements the java.security.cert.CertSelector interface.</td><td align="left">no</td></tr></table><p>Example:</p><div><pre>&lt;certstore callbackhandler=&quot;com.example.CertStoreHandler&quot; certselector=&quot;com.example.CertSelector&quot; /&gt;
</pre></div><p>The generated policy fragment looks like:</p><div><pre>&lt;wsp:Policy wsu:Id=&quot;Client_BindingPolicy&quot;&gt;
   &lt;wsp:ExactlyOne&gt;
    &lt;wsp:All&gt;
      &lt;sc1:CertStore callbackHandler=&quot;com.example.CertStoreHandler&quot; certSelector=&quot;com.example.CertSelector&quot;
         xmlns:wspp=&quot;http://java.sun.com/xml/ns/wsit/policy&quot; wspp:visibility=&quot;private&quot;
         xmlns:sc1=&quot;http://schemas.sun.com/2006/03/wss/client&quot;/&gt;
    &lt;/wsp:All&gt;
  &lt;/wsp:ExactlyOne&gt;
&lt;/wsp:Policy&gt;
</pre></div></div><div class="section"><h2>SecureConversation<a name="SecureConversation"></a></h2><p>SecureConversation has a few client side configuration options such as session renewal and session timeout. These can be configured with the secureconversation element.</p><table border="1" class="bodyTable"><tr class="a"><th align="left">Attribute</th><th align="left">Description</th><th align="left">Required</th></tr><tr class="b"><td align="left">renewExpiredSCT</td><td align="left">Set to true to automatically renew expired SCT tokens.</td><td align="left">no &#x2013; defaults to false</td></tr><tr class="a"><td align="left">lifetime</td><td align="left">The SCT session lifetime in milliseconds.</td><td align="left">no &#x2013; defaults to 300,000ms (5 minutes)</td></tr></table><p>Example:</p><div><pre>&lt;secureconversation renewExpiredSCT=&quot;true&quot; lifetime=&quot;60000&quot; /&gt;
</pre></div><p>The generated policy fragment looks like:</p><div><pre>&lt;wsp:Policy wsu:Id=&quot;Client_BindingPolicy&quot;&gt;
  &lt;wsp:ExactlyOne&gt;
    &lt;wsp:All&gt;
      &lt;scc:SCClientConfiguration renewExpiredSCT=&quot;true&quot; xmlns:wspp=&quot;http://java.sun.com/xml/ns/wsit/policy&quot;
        wspp:visibility=&quot;private&quot; xmlns:scc=&quot;http://schemas.sun.com/ws/2006/05/sc/client&quot;&gt;
        &lt;scc:LifeTime&gt;60000&lt;/scc:LifeTime&gt;
      &lt;/scc:SCClientConfiguration&gt;
    &lt;/wsp:All&gt;
  &lt;/wsp:ExactlyOne&gt;
&lt;/wsp:Policy&gt;
</pre></div></div>
      </div>
    </div>
    <div class="clear">
      <hr/>
    </div>
    <div id="footer">
      <div class="xright">
              Copyright &#169;                    2011-2012
                        <a href="http://www.appsecinc.com">Application Security, Inc</a>.
            All Rights Reserved.      
        
                  </div>
      <div class="clear">
        <hr/>
      </div>
    </div>
  </body>
</html>
